!function(){function e(e){return e.replace(b,"").replace(w,",").replace(x,"").replace(j,"").replace(T,"").split(k)}function n(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function r(r,t){function a(e){return p+=e.split(/\n/).length-1,u&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=y[1]+n(e)+y[2]+"\n"),e}function i(n){var r=p;if(s?n=s(n,t):o&&(n=n.replace(/\n/g,function(){return p++,"$line="+p+";"})),0===n.indexOf("=")){var a=f&&!/^=[=#]/.test(n);if(n=n.replace(/^=[=#]?|[\s;]*$/g,""),a){var i=n.replace(/\s*\([^\)]+\)/,"");d[i]||/^(include|print)$/.test(i)||(n="$escape("+n+")")}else n="$string("+n+")";n=y[1]+n+y[2]}return o&&(n="$line="+r+";"+n),m(e(n),function(e){if(e&&!h[e]){var n;n="print"===e?w:"include"===e?x:d[e]?"$utils."+e:g[e]?"$helpers."+e:"$data."+e,j+=e+"="+n+",",h[e]=!0}}),n+"\n"}var o=t.debug,c=t.openTag,l=t.closeTag,s=t.parser,u=t.compress,f=t.escape,p=1,h={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},v="".trim,y=v?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],b=v?"$out+=text;return $out;":"$out.push(text);",w="function(){var text=''.concat.apply('',arguments);"+b+"}",x="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+b+"}",j="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(o?"$line=0,":""),T=y[0],k="return new String("+y[3]+");";m(r.split(c),function(e){e=e.split(l);var n=e[0],r=e[1];1===e.length?T+=a(n):(T+=i(n),r&&(T+=a(r)))});var E=j+T+k;o&&(E="try{"+E+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+n(r)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var S=new Function("$data","$filename",E);return S.prototype=d,S}catch(W){throw W.temp="function anonymous($data,$filename) {"+E+"}",W}}var t=function(e,n){return"string"==typeof n?v(n,{filename:e}):o(e,n)};t.version="3.0.0",t.config=function(e,n){a[e]=n};var a=t.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},i=t.cache={};t.render=function(e,n){return v(e,n)};var o=t.renderFile=function(e,n){var r=t.get(e)||h({filename:e,name:"Render Error",message:"Template not found"});return n?r(n):r};t.get=function(e){var n;if(i[e])n=i[e];else if("object"==typeof document){var r=document.getElementById(e);if(r){var t=(r.value||r.innerHTML).replace(/^\s*|\s*$/g,"");n=v(t,{filename:e})}}return n};var c=function(e,n){return"string"!=typeof e&&(n=typeof e,"number"===n?e+="":e="function"===n?c(e.call(e)):""),e},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},s=function(e){return l[e]},u=function(e){return c(e).replace(/&(?![\w#]+;)|[<>"']/g,s)},f=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},p=function(e,n){var r,t;if(f(e))for(r=0,t=e.length;t>r;r++)n.call(e,e[r],r,e);else for(r in e)n.call(e,e[r],r)},d=t.utils={$helpers:{},$include:o,$string:c,$escape:u,$each:p};t.helper=function(e,n){g[e]=n};var g=t.helpers=d.$helpers;t.onerror=function(e){var n="Template Error\n\n";for(var r in e)n+="<"+r+">\n"+e[r]+"\n\n";"object"==typeof console&&console.error(n)};var h=function(e){return t.onerror(e),function(){return"{Template Error}"}},v=t.compile=function(e,n){function t(r){try{return new l(r,c)+""}catch(t){return n.debug?h(t)():(n.debug=!0,v(e,n)(r))}}n=n||{};for(var o in a)void 0===n[o]&&(n[o]=a[o]);var c=n.filename;try{var l=r(e,n)}catch(s){return s.filename=c||"anonymous",s.name="Syntax Error",h(s)}return t.prototype=l.prototype,t.toString=function(){return l.toString()},c&&n.cache&&(i[c]=t),t},m=d.$each,y="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,w=/[^\w$]+/g,x=new RegExp(["\\b"+y.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),j=/^\d[^,]*|,\d[^,]*/g,T=/^,+|,+$/g,k=/^$|,+/;a.openTag="{{",a.closeTag="}}";var E=function(e,n){var r=n.split(":"),t=r.shift(),a=r.join(":")||"";return a&&(a=", "+a),"$helpers."+t+"("+e+a+")"};a.parser=function(e){e=e.replace(/^\s/,"");var n=e.split(" "),r=n.shift(),a=n.join(" ");switch(r){case"if":e="if("+a+"){";break;case"else":n="if"===n.shift()?" if("+n.join(" ")+")":"",e="}else"+n+"{";break;case"/if":e="}";break;case"each":var i=n[0]||"$data",o=n[1]||"as",c=n[2]||"$value",l=n[3]||"$index",s=c+","+l;"as"!==o&&(i="[]"),e="$each("+i+",function("+s+"){";break;case"/each":e="});";break;case"echo":e="print("+a+");";break;case"print":case"include":e=r+"("+n.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(a)){var u=!0;0===e.indexOf("#")&&(e=e.substr(1),u=!1);for(var f=0,p=e.split("|"),d=p.length,g=p[f++];d>f;f++)g=E(g,p[f]);e=(u?"=":"=#")+g}else e=t.helpers[r]?"=#"+r+"("+n.join(",")+");":"="+e}return e},"function"==typeof define?define(function(){return t}):"undefined"!=typeof exports?module.exports=t:this.template=t}();