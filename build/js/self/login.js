"use strict";var sessionId=sessionStorage.sessionId||"",login={init:function(){this.oLoad(),this.getMenu(),this.lookpwd(),this.delText(),this.goCar(),this.oNext()},oLoad:function(){$(window).on("scroll",function(){var o=200,n=$(window).scrollTop();n>o?($(".m-nav-bottom").show(),$(".m-common-stick").show(),$(".m-common-go-top").show()):($(".m-nav-bottom").hide(),$(".m-common-stick").hide(),$(".m-common-go-top").hide())});var o=oDomain+"/home/cart/cartTotal",n={sessionId:sessionId};jsonData.getData(o,"GET",{data:JSON.stringify(n)},function(o){0==o.code&&$(".m-common-car em").text(o.data.count)}),$(".m-common-menu").on("click",function(){$(".m-common-menu-box").show()}),$(".m-detail-backbtn").on("click",function(){window.history.back()})},getMenu:function(){var o=oDomain+"/home/index/menuList";jsonData.getData(o,"GET",{},function(o){var n=template("menuTpl",o);if($(".m-common-menu-content-lists").html(n),o.data.other&&""!=o.data.other)for(var t=0;t<o.data.other.length;t++){'<div class="m-common-menu-content-list"><a href="'+o.data.other[t].href+'">'+o.data.other[t].name;$(".m-common-menu-content-lists").append()}login.oMenu()}),$(".m-common-menu,.m-common-stick-menu").on("click",function(){$(".m-common-menu-box").show()})},oMenu:function(){$(".m-common-menu-content-list-header").each(function(o,n){$(n).on("click",function(){$(n).find(".jt img").toggleClass("fan"),$(n).siblings("ul").toggle()})}),$(".m-common-menu-content-header").find(".btn").on("click",function(){$(".m-common-menu-box").hide()}),$(".m-common-menu-close").on("click",function(){$(".m-common-menu-box").hide()})},lookpwd:function(){$("#lookpwd").on("click",function(){1==$("#lookpwd").attr("checked")?$("#memberpwd").attr({type:"text"}):$("#memberpwd").attr({type:"password"})})},delText:function(){$(".f-del").each(function(o,n){$(n).on("click",function(){$(this).siblings("input").val("")})})},goCar:function(){$(".m-nav-bottom-car,.m-common-car").on("click",function(){window.location.href="shoppingcart.html"})},oNext:function(){$(".btn-login").on("click",function(){$(".m-common-spinner").show();var o=$("input[name='memberid']").val()||void 0,n=$("input[name='memberpwd']").val()||void 0,t=oDomain+"/home/user/login",m={username:o,password:n};return o&&""!=o?n&&""!=n?void jsonData.getData(t,"GET",{data:JSON.stringify(m)},function(o){console.log(o),$(".m-common-spinner").hide(),0==o.code?(localStorage.userId=o.data.user_id,window.location.href="index.html"):($(".m-popup-small-box .m-popup-small").text(o.msg),$(".m-popup-small-box").show(),setTimeout(function(){$(".m-popup-small-box").hide()},1e3))}):($(".m-popup-small-box .m-popup-small").text("パスワードをご確認ください。"),$(".m-popup-small-box").show(),setTimeout(function(){$(".m-popup-small-box").hide()},800),!1):($(".m-popup-small-box .m-popup-small").text("会員ＩＤ（メールアドレス）、をご確認ください。"),$(".m-popup-small-box").show(),setTimeout(function(){$(".m-popup-small-box").hide()},800),!1)}),$(".btn-login-new").on("click",function(){window.location.href="register.html"})}};sessionId&&""!=sessionId?login.init():getSession.data(function(){login.init()});