!function($,t,a,n){var e={totalData:0,showData:0,pageCount:9,current:1,prevCls:"prev",nextCls:"next",prevContent:"<",nextContent:">",activeCls:"active",coping:!1,homePage:"",endPage:"",count:3,jump:!1,jumpIptCls:"jump-ipt",jumpBtnCls:"jump-btn",jumpBtn:"跳转",callback:function(){}},i=function(t,n){var e,i=n,s=$(a),p=$(t);this.setTotalPage=function(t){return i.pageCount=t},this.getTotalPage=function(){var t=i.totalData||i.showData?Math.ceil(parseInt(i.totalData)/i.showData):i.pageCount;return t},this.getCurrent=function(){return e},this.filling=function(t){var a="";e=t||i.current;var n=this.getTotalPage();if(e>1?a+='<a href="javascript:;" class="'+i.prevCls+'">'+i.prevContent+"</a>":p.find("."+i.prevCls)&&p.find("."+i.prevCls).remove(),e>=2*i.count&&1!=e&&n!=i.count){var s=i.coping&&i.homePage?i.homePage:"1";a+=i.coping?'<a href="javascript:;" data-page="1">'+s+"</a><span>...</span>":""}var l=e-i.count,r=e+i.count;for((l>1&&e<i.count||1==e)&&r++,e>n-i.count&&e>=n&&l++;l<=r;l++)l<=n&&l>=1&&(a+=l!=e?'<a href="javascript:;" data-page="'+l+'">'+l+"</a>":'<span class="'+i.activeCls+'">'+l+"</span>");if(e+i.count<n&&e>=1&&n>i.count){var r=i.coping&&i.endPage?i.endPage:n;a+=i.coping?'<span>...</span><a href="javascript:;" data-page="'+n+'">'+r+"</a>":""}e<n?a+='<a href="javascript:;" class="'+i.nextCls+'">'+i.nextContent+"</a>":p.find("."+i.nextCls)&&p.find("."+i.nextCls).remove(),a+=i.jump?'<input type="text" class="'+i.jumpIptCls+'"><a href="javascript:;" class="'+i.jumpBtnCls+'">'+i.jumpBtn+"</a>":"",p.empty().html(a)},this.eventBind=function(){var t=this,a=this.getTotalPage();p.off().on("click","a",function(){if($(this).hasClass(i.nextCls))var a=parseInt(p.find("."+i.activeCls).text())+1;else if($(this).hasClass(i.prevCls))var a=parseInt(p.find("."+i.activeCls).text())-1;else if($(this).hasClass(i.jumpBtnCls)){if(""===p.find("."+i.jumpIptCls).val())return;var a=parseInt(p.find("."+i.jumpIptCls).val())}else var a=parseInt($(this).data("page"));t.filling(a),"function"==typeof i.callback&&i.callback(t)}),p.on("input propertychange","."+i.jumpIptCls,function(){var t=$(this),n=t.val(),e=/[^\d]/g;e.test(n)&&t.val(n.replace(e,"")),parseInt(n)>a&&t.val(a),0===parseInt(n)&&t.val(1)}),s.keydown(function(t){var a=this;if(13==t.keyCode&&p.find("."+i.jumpIptCls).val()){var n=parseInt(p.find("."+i.jumpIptCls).val());a.filling(n),"function"==typeof i.callback&&i.callback(a)}})},this.init=function(){this.filling(i.current),this.eventBind()},this.init()};$.fn.pagination=function(t,a){"function"==typeof t?(a=t,t={}):(t=t||{},a=a||function(){});var n=$.extend({},e,t);return this.each(function(){var t=new i(this,n);a(t)})}}(Zepto,window,document);